<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title></title>

<style type="text/css" media="all">
@import url("./css/maven-base.css");
@import url("./css/maven-theme.css");
</style>
<meta name="Date-Revision-yyyymmdd" content="20121009" />
<meta http-equiv="Content-Language" content="ru" />
<script src="do_title.js" type="text/javascript"></script>
</head>

<body class="composite">
<div id="leftColumn">
<div id="navcolumn">
<h5>MinIbso</h5>
<ul>
<li><a href="index.html" title="Общие полжения">Основная идея</a></li>
<li><a href="download.html" title="Раздача">Раздача</a></li>
<li><a href="history.html" title="История">История</a></li>
<li><a href="thanks.html" title="Благодарности (вопросы)">Благодарности (вопросы)</a></li>
</ul>
<h5>Описание</h5>
<ul>
<li><a href="common.html" title="Общие полжения">Общие положения</a></li>
<li><a href="prepare.html" title="Подготовка">Подготовка</a></li>
<li><a href="datatransfer.html" title="Пренос данных">Пренос данных</a></li>
<li><a href="matching.html" title="Согласование данных">Согласование данных</a></li>
<li><strong>Полный цикл</strong></li>
<li><a href="dataadd.html" title="Дополнение данных">Дополнение данных</a></li>
</ul>
</div>
</div>
<div id="bodyColumn">
<div id="contentBox">
<div class="section">
<h2>Полный цикл</h2>
<h3> Всё в один присест<a name="Всё в один присест"></a> </h3>
<p>Если "КОПИЯ" и "ОРИГИНАЛ" находятся в одной сети то после отладки всех этапов изготовление “КОПИИ” делается так:</p>
<ul>
<li>правим параметры в insroot.sql</li>
<li>восстанавливаем с бакапа экземпляр заготовки для “КОПИИ”</li>
<li>загружаем в этот экземпляр определения “негабаритных” объектов и генерируем схемы AUD, AUDM.</li>
<li>запускаем: <p class="source">sh&gt;./run.sh all</p></li>
</ul>
<p>Сделав это в пятницу перед уходом домой, утром в понедельник 
имеем свежий экземпляр “КОПИИ”.</p>
<p>Создания "КОПИИ" на машине НЕ входящей в сеть "ОРИГИНАЛА" выполняется так:</p>
<ul>
<li>правим параметры в insroot.sql</li>
<li>запускаем: <p class="source">sh&gt;./run.sh exp</p></li>
<li>переносим содержимое каталога ./minibso/create/data на машину "КОПИИ" </li>
<li>запускаем: <p class="source"> sh&gt;./run.sh imp; ./run.sh union</p></li>
</ul>

<h3> Нештатные ситуации<a name="Нештатные ситуации"></a>
</h3>
<p>Если удаление записей, нарушающих ссылочную целостность,
затянулось – возможно была ошибка экспорта/импорта. Например, изменена
структура одной из таблиц. Из-за этого импорт данных был прерван и
удаление “нарушителей” целостности покатилось по всей базе. Лучше
начать все заново.</p>
<p>В процессе работы с “КОПИЕЙ” случаются прерывания
NO_DATA_FOUND. В схеме есть ссылки либо вообще не описанные как
ограничения ссылочной целостности либо это сделано через триггеры. </p>
</div>
</div>
</div>
</body></html>